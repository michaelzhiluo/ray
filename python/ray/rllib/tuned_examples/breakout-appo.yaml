# Runs on a g3.16xl node with 3 m4.16xl workers
# See https://github.com/ray-project/rl-experiments for results
breakout-appo:
    env: BreakoutNoFrameskip-v4
    run: APPO
    local_dir: /data/mluo/breakout-appo
    stop:
        time_total_s: 10800
    config:
        vtrace: True
        model:
            vf_share_layers: True
        lambda: 0.995
        use_kl_loss: False
        sample_batch_size: 50
        train_batch_size: 500
        num_workers: 32
        num_gpus: 1
        minibatch_buffer_size: 1 #2,4 could workers
        num_sgd_iter: 1
        max_sample_requests_in_flight_per_worker: 1
        clip_param: 0.2
        vf_loss_coeff: 0.25
        grad_clip: 2.5
        num_envs_per_worker: 5
        clip_rewards: True
        batch_mode: truncate_episodes
        entropy_coeff: 0.01
        lr_schedule: [
            [0, 0.0005],
            [20000000, 0.000000000001],
        ]
